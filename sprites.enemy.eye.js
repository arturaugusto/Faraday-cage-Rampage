var ExplodeTemplate = 
  ['                '// 0
  ,'                '// 1
  ,'                '// 2
  ,'                '// 3
  ,'    fffff       '// 4
  ,'   f     f      '// 5
  ,'   f     f      '// 6
  ,'    fffff       '// 7
  ,'                '// 8
  ,'         ff     '// 9
  ,'        f  f    '//10
  ,'   f     ff     '//11
  ,'  f f           '//12
  ,'   f            '//13
  ,'                '//14
]//           1111111
 // 01234567890123456

var ExplodeTemplate2 = 
  ['                '// 0
  ,'                '// 1
  ,'                '// 2
  ,'  yyyyyyyy      '// 3
  ,'  y       y     '// 4
  ,'  y       y     '// 5
  ,'  y       y     '// 6
  ,'  yyyyyyyyy     '// 7
  ,'       yyyyyy   '// 8
  ,'       y    y   '// 9
  ,'  ff   y    y   '//10
  ,' y  y  y    y   '//11
  ,' y  y  yyyyyy   '//12
  ,'  ff            '//13
  ,'                '//14
]//           1111111
 // 01234567890123456

var ExplodeTemplate3 = 
  ['   f         f  '// 0
  ,'                '// 1
  ,' RRRRRRRRRR     '// 2
  ,' R        RR    '// 3
  ,' R         R    '// 4
  ,' R         R    '// 5
  ,' R    RRRRRRRR  '// 6
  ,' R    R    R R  '// 7
  ,' RRRRRRRRRRRRR  '// 8
  ,'  yyy R      R  '// 9
  ,' y   yR      R  '//10
  ,' y   yR      R  '//11
  ,' y   yRRRRRRRR  '//12
  ,'  yyy           '//13
  ,'            f   '//14
]//           1111111
 // 01234567890123456


// Drone


var DroneSpriteTemplate = 
  ['   bb  YY  bb   '// 0
  ,' bbPPbbYYbbPPbb '// 1
  ,' bwPPPbYYbwPPPb '// 2
  ,'bPPwwPbHHbPwwPPb'// 3
  ,' bPPPbCCCCbPPwb '// 4
  ,' HbbbbMCCMbbbbH '// 5
  ,' HCCCCNNNNCCCCH '// 6
  ,' HCCCCNjjNCCCCH '// 7
  ,'  HbbCNNNNCbbH  '// 8
  ,' bbPPbMCCMbPPbb '// 9
  ,' bwPPPbCCbwPPPb '//10
  ,'bPPwwPbHHbPwwPPb'//11
  ,' bPPPwbYYbPPPwb '//12
  ,' bbPPbbYYbbPPbb '//13
  ,'   bb  YY  bb   '//14
]//           1111111
 // 01234567890123456

var DroneSpriteTemplate2 = 
  ['   bb  YY  bb   '// 0
  ,' bbPPbbYYbbPPbb '// 1
  ,' bPPPPbYYbPPPPb '// 2
  ,'bwwwwwbHHbwwwwwb'// 3
  ,' bPPPbCCCCbPPPb '// 4
  ,' HbbbbMCCMbbbbH '// 5
  ,' HCCCCNNNNCCCCH '// 6
  ,' HCCCCNjjNCCCCH '// 7
  ,'  HbbCNNNNCbbH  '// 8
  ,' bbPPbMCCMbPPbb '// 9
  ,' bPPPPbCCbPPPPb '//10
  ,'bwwwwwbHHbwwwwwb'//11
  ,' bPPPPbYYbPPPPb '//12
  ,' bbPPbbYYbbPPbb '//13
  ,'   bb  YY  bb   '//14
]//           1111111
 // 01234567890123456

var DroneSpriteTemplate3 = 
  ['   bb  YY  bb   '// 0
  ,' bbPPbbYYbbPPbb '// 1
  ,' bPPPwbYYbPPPwb '// 2
  ,'bPPwwPbHHbPwwPPb'// 3
  ,' bwPPbCCCCbPPPb '// 4
  ,' HbbbbMCCMbbbbH '// 5
  ,' HCCCCNNNNCCCCH '// 6
  ,' HCCCCNjjNCCCCH '// 7
  ,'  HbbCNNNNCbbH  '// 8
  ,' bbPPbMCCMbPPbb '// 9
  ,' bPPPwbCCbPPPwb '//10
  ,'bPPwwPbHHbPwwPPb'//11
  ,' bwPPPbYYbwPPPb '//12
  ,' bbPPbbYYbbPPbb '//13
  ,'   bb  YY  bb   '//14
]//           1111111
 // 01234567890123456

var DroneSpriteTemplate4 = 
  ['   bb  YY  bb   '// 0
  ,' bbwPbbYYbbwPbb '// 1
  ,' bPwPPbYYbPwPPb '// 2
  ,'bPPPwPbHHbPPwPPb'// 3
  ,' bPPwbCCCCbPwPb '// 4
  ,' HbbbbMCCMbbbbH '// 5
  ,' HCCCCNNNNCCCCH '// 6
  ,' HCCCCNjjNCCCCH '// 7
  ,'  HbbCNNNNCbbH  '// 8
  ,' bbwPbMCCMbwPbb '// 9
  ,' bPwPPbCCbPwPPb '//10
  ,'bPPPwPbHHbPPwPPb'//11
  ,' bPPwPbYYbPPwPb '//12
  ,' bbwwbbYYbbwwbb '//13
  ,'   bb  YY  bb   '//14
]//           1111111
 // 01234567890123456


var TriDroneSpriteTemplate = 
  ['       bb       '// 0
  ,'     bbPPbb     '// 1
  ,'     bwPPPb     '// 2
  ,'    bPPwwPPb    '// 3
  ,'     bPPPbb     '// 4
  ,'      bbbb      '// 5
  ,'       NN       '// 6
  ,'      NjjN      '// 7
  ,'   bb NNNN bb   '// 8
  ,' bbPPbM  MbPPbb '// 9
  ,' bwPPPb  bwPPPb '//10
  ,'bPPwwPb  bPwwPPb'//11
  ,' bPPPwb  bPPPwb '//12
  ,' bbPPbb  bbPPbb '//13
  ,'   bb      bb   '//14
]//           1111111
 // 01234567890123456

var TriDroneSpriteTemplate2 = 
  ['       bb       '// 0
  ,'     bbPPbb     '// 1
  ,'     bPPPPb     '// 2
  ,'    bwwwwwPb    '// 3
  ,'     bPPPbb     '// 4
  ,'      bbbb      '// 5
  ,'       NN       '// 6
  ,'      NjjN      '// 7
  ,'   bb NNNN bb   '// 8
  ,' bbPPbM  MbPPbb '// 9
  ,' bPPPPb  bPPPPb '//10
  ,'bwwwwwb  bwwwwwb'//11
  ,' bPPPPb  bPPPPb '//12
  ,' bbPPbb  bbPPbb '//13
  ,'   bb      bb   '//14
]//           1111111
 // 01234567890123456

var TriDroneSpriteTemplate3 = 
  ['       bb       '// 0
  ,'     bbPPbb     '// 1
  ,'     bPPPwb     '// 2
  ,'    bPPwwPPb    '// 3
  ,'     bwPPbb     '// 4
  ,'      bbbb      '// 5
  ,'       NN       '// 6
  ,'      NjjN      '// 7
  ,'   bb NNNN bb   '// 8
  ,' bbPPbM  MbPPbb '// 9
  ,' bPPPwb  bPPPwb '//10
  ,'bPPwwPb  bPwwPPb'//11
  ,' bwPPPb  bwPPPb '//12
  ,' bbPPbb  bbPPbb '//13
  ,'   bb      bb   '//14
]//           1111111
 // 01234567890123456

var TriDroneSpriteTemplate4 = 
  ['       bb       '// 0
  ,'     bbwPbb     '// 1
  ,'     bPwPPb     '// 2
  ,'    bPPPwPPb    '// 3
  ,'     bPPwbb     '// 4
  ,'      bbbb      '// 5
  ,'       NN       '// 6
  ,'      NjjN      '// 7
  ,'   bb NNNN bb   '// 8
  ,' bbwPbM  MbwPbb '// 9
  ,' bPwPPb  bPwPPb '//10
  ,'bPPPwPb  bPPwPPb'//11
  ,' bPPwPb  bPPwPb '//12
  ,' bbwwbb  bbwwbb '//13
  ,'   bb      bb   '//14
]//           1111111
 // 01234567890123456


var DroneSpritePalette = {
  ' ': 'rgba(255,255,255,0)'
  ,b: 'black'
  ,w: '#232323A4'
  ,g: '#C1BEBEFF'
  ,N: '#2B2B2B'
  ,M: '#2B2B2BFF'
  ,r: 'red'
  ,P: '#7D7A7A8A'
  ,j: '#0F0060FF'
  ,f: '#D2D301FF'
  ,y: '#D59C12FF'
  ,R: '#B42200FF'
  ,C: '#130077FF'
  ,H: 'black'  
}

var ExplosionIdleAnim = [
  spriteFactory(ExplodeTemplate, DroneSpritePalette),
  
  spriteFactory(ExplodeTemplate2, DroneSpritePalette),

  spriteFactory(ExplodeTemplate3, DroneSpritePalette),
  spriteFactory(ExplodeTemplate3, DroneSpritePalette),
]


var EnemyTemplateArray = [
  DroneSpriteTemplate,
  DroneSpriteTemplate2,
  DroneSpriteTemplate3,
  DroneSpriteTemplate4
]

var spriteFactorySequence = function(templateArray, palette) {
  return templateArray.map(function(item) {
    return spriteFactory(item, palette)
  })
}

/////////////////////////////////////////////////

var SlimDroneAnimTemplateArray = EnemyTemplateArray.map(function(templates) {
  return templates.map(function(row) {
    return row.replace(/C/g, ' ').replace(/H/g, ' ').replace(/Y/g, ' ')
  })
})

var SlimDroneAnim = spriteFactorySequence(SlimDroneAnimTemplateArray, DroneSpritePalette)

//************************************************

var FatDroneAnimTemplateArray = EnemyTemplateArray.map(function(templates) {
  return templates.map(function(row) {
    return row.replace(/N/g, 'C').replace(/M/g, 'C').replace(/Y/g, 'C').replace(/H/g, 'C')
  })
})

var FatDroneAnim = spriteFactorySequence(FatDroneAnimTemplateArray, DroneSpritePalette)

//TriDrone
/////////////////////////////////////////////////

var EnemyTriDroneTemplateArray = [
  TriDroneSpriteTemplate,
  TriDroneSpriteTemplate2,
  TriDroneSpriteTemplate3,
  TriDroneSpriteTemplate4
]

var SlimTriDroneAnimTemplateArray = EnemyTriDroneTemplateArray.map(function(templates) {
  return templates.map(function(row) {
    return row.replace(/C/g, ' ').replace(/H/g, ' ')
  })
})

var TriDroneAnim = spriteFactorySequence(SlimTriDroneAnimTemplateArray, DroneSpritePalette)
