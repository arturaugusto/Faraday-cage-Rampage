function ArcadeAudio() {
  this.sounds = {};
}

ArcadeAudio.prototype.add = function( key, count, settings ) {
  this.sounds[ key ] = [];
  settings.forEach( function( elem, index ) {
    this.sounds[ key ].push( {
      tick: 0,
      count: count,
      pool: []
    } );
    for( var i = 0; i < count; i++ ) {
      var audio = new Audio();
      audio.src = jsfxr( elem );
      this.sounds[ key ][ index ].pool.push( audio );
    }
  }, this );
};

ArcadeAudio.prototype.play = function( key ) {
  var sound = this.sounds[ key ];
  var soundData = sound.length > 1 ? sound[ Math.floor( Math.random() * sound.length ) ] : sound[ 0 ];
  soundData.pool[ soundData.tick ].play();
  soundData.tick < soundData.count - 1 ? soundData.tick++ : soundData.tick = 0;
};

var aa = new ArcadeAudio();

aa.add( 'powerup', 10,
  [
    [0,,0.01,,0.4384,0.2,,0.12,0.28,1,0.65,,,0.0419,,,,,1,,,,,0.3]
  ]
);

aa.add( 'laser', 5,
  [
    [1,,0.2843,,0.1411,0.73,0.53,-0.5144,,,,-0.18,,0.5238,-0.1934,,0.1599,-0.0999,0.74,0.3,,0.1,,0.5]
  ]
);

aa.add( 'damage', 3,
  [
    [3,,0.0331,,0.1935,0.2152,,-0.3201,,,,,,,,,,,1,,,,,0.5]
  ]
);

aa.add( 'enemyDamage', 3,
  [
    [3,,0.0331,,0.1935,0.2152,,-0.3201,,,,,,,,,,,1,,,,,0.5]
  ]
);

aa.add( 'explode', 3,
  [
    [3,,0.1573,0.6834,0.3784,0.0896,,-0.0374,,,,,,,,,0.5521,-0.2586,1,,,,,0.5],
    [3,,0.1263,0.6704,0.4849,0.2342,,-0.0711,,,,,,,,,0.5514,-0.1587,1,,,,,0.5],
    [3,,0.3588,0.2999,0.3115,0.2253,,0.027,,,,-0.0804,0.6019,,,,,,1,,,,,0.5],
    [3,,0.1571,0.2424,0.3945,0.5088,,,,,,,,,,0.3524,0.3368,-0.2398,1,,,,,0.5]
  ]
);

aa.add( 'unable', 3,
  [
    [1,,0.1678,,0.1549,0.2163,,,,,,,,,,,,,1,,,0.1,,0.5]
  ]
);


aa.add( 'caged', 3,
  [
    [0,,0.0926,0.3748,0.2258,0.4546,,,,,,0.2032,0.6597,,,,,,1,,,,,0.6],
    [1,,0.1703,0.2941,0.5844,0.5397,,0.1259,-0.4125,0.5221,,-0.0247,0.9807,-0.0471,,0.3219,-0.1941,0.7949,0.5184,0.19,0.4231,0.5086,,0.6],
    [3,0.0444,0.0123,0.2714,0.6115,0.507,,0.0006,0.239,0.0587,-0.0693,0.0743,0.9205,-0.5129,-0.0416,0.3263,0.2133,0.8075,0.9423,-0.0767,,0.0001,-0.3068,0.6]
  ]
);


aa.add( 'enemyShot', 3,
  [
    [0,,0.23,0.1762,0.3073,0.58,0.2,-0.3263,-0.14,,,-0.18,,0.5992,-0.3439,,,,1,,,,,0.25]
  ]
);

aa.add( 'newLevel', 3,
  [
    [1,,0.1736,,0.4041,0.4702,,0.3825,,,,,,,,0.7227,,,1,,,,,0.6]
  ]
);


